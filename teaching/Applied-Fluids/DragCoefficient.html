
<!DOCTYPE html>
<html>
   <head>
      <title>Atmospheric Properties</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta charset="utf-8">
      <meta name="author" content="Kevin Dusling" />
      <meta NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      <meta name="description" content="The 1976 U.S. Standard Atmosphere">

      <link rel="stylesheet" type="text/css" href="style.css">


     <script type="text/x-mathjax-config">

       MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});

     </script>



     <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">

     </script>


</head>


  <script type="text/javascript">

    var bases = [0,11,20,32,47,51,71,84.852];
    var dTdh = [-6.5, 0.0, 1.0, 2.8, 0.0, -2.8, -2.0];

    var Tb = [288.150]; //temperature at sea level in Kelvin
    var Pb = [101325]; //pressure at sea level in Pa
    var Erad = 6356.766; // Earth radius in km
    var M = 28.9644; // mean molecular weight of air (grams/mole)
    var R = 8.31432; // joules / (K mole)
    var GMR = 34.1631947; //hydrostatic constant (K/km)
    var G = GMR*R/M; //gravity at sea level

    for(var i = 1; i <= 7; i++) {
		   Tb [i] = Tb[i-1] + dTdh[i-1]*(bases[i] - bases[i-1]);
       if (dTdh[i-1] == 0.0){
         Pb [i] = Pb[i-1]*Math.exp(-GMR*(bases[i] - bases[i-1])/Tb[i-1]);
       } else {
         Pb [i] = Pb[i-1]*Math.pow(1 + dTdh[i-1]*(bases[i] - bases[i-1])/Tb[i-1],-GMR/dTdh[i-1]);
       }
	  }

    function atmprop(z){

      //z is the geometric altitude and h is the geopotential altitude
      var h = Erad*z/(Erad+z);
      var gratio = Math.pow(Erad/(z+Erad),2);

      var baseindex = bases.findIndex(function(element, index, array){return element > h})-1;
      T =  Tb[baseindex] + dTdh[baseindex]*(h-bases[baseindex]);
      if (dTdh[baseindex] == 0.0){
        P = Pb[baseindex]*Math.exp(-GMR*(h- bases[baseindex])/Tb[baseindex]);
      } else {
        P = Pb[baseindex]*Math.pow(1 + dTdh[baseindex]*(h- bases[baseindex])/Tb[baseindex],-GMR/dTdh[baseindex]);
      }

      //mass density from ideal gas law
      N = M*P/(1000.*R*T);

      //sound speed using ratio of specific heats of air to be 1.40
      C=Math.pow(1000*1.40*R*T/M,0.5);

      //dynamic viscosity using Sutherland formula
      eta=0.000001458*Math.pow(T,1.5)/(T+110.4);

	    return {z: z, h: h, t: T, g: G*gratio, p: P, n:N, c:C, eta:eta};
    }


function update(){
  var Restr =document.getElementById("Re").value;
  var Re = parseFloat( Restr.replace(/[^\d\.]/g,'') );
  var units = document.getElementById("units").value;

  var unitflag;
  var altkm;

  if (units == "kilometers")
  {
    unitflag = "SI";
    altkm = alt;
  }


  var table = document.getElementById("myTable");
  myTable.innerHTML = "";

  if (altkm < 0 || altkm > 84.852 )
  {
    var row = table.insertRow(-1);
    cell = row.insertCell(-1);
    cell.innerHTML = "<font style='color: red'>Sorry, this program only computes up to altitudes of 84 km.</font>";
  return;
  }

  if ( isNaN(altkm) )
  {
    var row = table.insertRow(-1);
    cell = row.insertCell(-1);
    cell.innerHTML = "<font style='color: red'>Please insert an altitude between 0 and 84 km.</font>";
  return;
  }

  var row = table.insertRow(-1);
  var cell = row.insertCell(-1);
  cell.innerHTML =  "Re";
  cell = row.insertCell(-1);
  cell.innerHTML =  Re;




  MathJax.Hub.Queue(["Typeset",MathJax.Hub]);


}

</script>


<body>

  <h1 style="color: #2980b9; font-weight: 900;" id=title>The 1976 U.S. Standard Atmosphere</h1>

<div style="display: inline-block; vertical-align: top; font-size: 18px">
  Reynolds number: <input name="Re" type="text" id="Re">
  <select id="units">
     <option id="km">kilometers</option>
     <option id="ft">feet</option>
     <option id="ft">meters</option>
     <option id="ft">miles</option>
  </select>
  <button type="button" onclick="update()">Compute</button>


    <table id="myTable" style="margin: 15px;">
    <tbody>

    </tbody>

    <caption style="caption-side: bottom; text-align: left;">
    </caption>
    </table>


  <div id="results" style="font-size: 18px; background-color: #FAFAFA;
  padding: 5px 5px; border-radius: 5px; border: 1px solid #CCC;">
  Computes the 1976 U.S. standard atmosphere.  <BR>For more information see
  <a href="http://www.pdas.com/atmos.html">PDAS</a> and <a href="https://en.wikipedia.org/wiki/U.S._Standard_Atmosphere">Wikipedia</a>.
  </div>

</div>





</body>
</html>
